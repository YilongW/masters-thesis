% from Bakalov & Kirillov, section 3.3
We will denote the category of representations of $U_z^{res}(\mathfrak{g})$ at
a $\ell^\text{th}$ root of unity $z$ by $\mathcal{C}(\mathfrak{g}, \ell)$. We
know that $\mathcal{C}(\sll(2), \ell)$ is a rigid monoidal category since
$U_z^{res}(\sll(2))$ is a Hopf algebra. $\mathcal{C}(\sll(2), \ell)$ is also
braided, as we saw in \ref{section:braiding}. However, we saw in
\ref{section:RepTheoryofResSL2} that $\mathcal{C}(\sll(2), \ell)$ is not
semisimple: the Weyl modules $W_z^{res}(n)$ are not in general completely
reducible.   We will discuss in this section how to obtain a modular tensor
category from $\mathcal{C}(\sll(2), \ell)$. this category's simple objects will
be our anyons, and each such category is a topological quantum computing
theory.
\todo{Why is it a Hopf algebra? Show this somewhere.}



\section{Quantum trace}

The Hopf algebra structure on $U_q(\mathfrak{g})$, together with the braiding
discussed in the last section gives the category of representations
$\mathcal{C}(\mathfrak{g}, \ell)$ the structure of a ribbon category. There is
therefore a well-defined trace of an endomorphism in the category, which is
different from the usual trace of an vector space endomorphism. 

We will denote the trace of a morphism $f$ by $\tr_q(f)$.

In the case $U_q(\sll(2))$, the quantum trace is given by 

\begin{equation}
    \tr_q(f) = \tr(Kf)
\end{equation}

where $\tr$ is the usual trace of a vector space endomorphism.

For any object $M$ of $\mathcal{C}(\mathfrak{g}, \ell)$, we define the quantum dimension $\dim_q(M)$ to be 

\begin{equation}
    \dim_q(M) = \tr(\id_M)
\end{equation}

For example, we can see from the definition of the Weyl module $W_z^{res}(n)$
that $\dim_q(W_z^{res}(n)) = [n+1]_z$. In particular we see that
$\dim_q(W_z^{res}(\ell - 1)) = 0$, so objects other than the zero object can
have quantum dimension zero. 

\section{Tilting modules} 

We saw earlier that tensor products of irreducible $U_q(\sll(2))$-modules
$V_q(n)$ decompose as a direct sum of irreducible modules. This will not be the
case for irreducible $U_z^{res}$-modules. However, $V_z^{res}(n)\otimes
V_z^{res}(m)$ decomposes as a direct sum of indecomposable \emph{tilting
modules}. 
\todo{find out who defined these things originally and why}

In this section we will define these modules, define what they are explicitly
in certain cases, and give a decomposition for $V^{res}_z(n) \otimes
V_z^{res}(m)$ for $0 \leq n,m \leq \ell - 1$.

\begin{defn}
    Suppose $M$ is a $U_q(\sll(2))$-module. A \emph{Weyl filtration} for $M$
    is a sequence of submodules 

    \begin{equation}
        \left\{ 0 \right\} = J_0 \subset \cdots \subset J_n = M
    \end{equation}

    such that each $J_k$ is a maximal submodule of $J_{k+1}$ and each quotient $J_{k+1}/J_k$ is a Weyl module. 
\end{defn}

\begin{defn}
    A $U_q(\sll(2))$-module $M$ is called \emph{tilting} if both $M$ and $M^*$ have Weyl filtrations.
\end{defn}

Let $\tilt$ be the full subcategory of $\mathcal{C}(\sll(2), \ell)$ whose
objects are the tilting modules modules for $U_z^{res}$.  

\begin{prop}
    $\tilt$ is closed under direct sums, tensor products, duals, and taking direct summands.
\end{prop}
\begin{proof}
    It is easy to see that $\tilt$ is closed under direct sums, duals, and
    taking direct summands. It is much harder to show that the tensor product
    of tilting modules is tilting, and the proof can be found in \cite{Andersen1992}.
\end{proof}

We can therefore restrict our attention to the indecomposable tilting modules.
The indecomposable tilting modules for $U_z^{res}$ are indexed by integers $n
\geq 0$ (corresponding to their maximal weights), and the tilting modules
$T_z(n)$ for $0 \leq n < 2\ell - 2$ can be described explicitly as follows
(\cite{CP}). 

$T_z(n)$ has basis $\left\{ t_0, \ldots, t_n \right\} \bigcup \left\{ t'_0,
    \ldots, t'_{r} \right\}$, where $r = 2\ell - 2 - n$, and has the following
    action:

\begin{align*}
    Kt_i &= z^{n-2i} t_i \\
    X^+ t_i &= [n-i+1]_z t_{i-1} \\
    (X^+)^{(\ell)} t_i &= ( (n-i)_1) + 1) t_{i-\ell} \\
    X^-t_i &= [i+1]_z t_{i+1} \\
    (X^-)^{(\ell)} t_i &= ( i_1 + 1) t_{i+\ell} \\
    Kt'_i &= z^{r-2i} t'_i \\
    X^+ t'_i &= [r-i+1]_z t'_{i-1}  + \dbinom{n + i - \ell}{i}_z t_{n+i-\ell} &\text{ for $0 < i \leq r$}\\
    X^+ t'_0 &= [n - \ell + 1]_z t_{n-\ell} \\
    X^-t'_i &= [i+1]_z t'_{i+1} &\text{ for $0 \leq i < r$}\\
    X^- t'_r &= \dbinom{\ell - 1}{n - \ell + 1}_z t_\ell \\
    (X^\pm)^{(\ell)} t'_i  &= 0
\end{align*}

\todo{put a nice picture here}

It is easy to see that the $T_z(n)$ are indecomposable, and that $\left\{ t_0,
\ldots, t_n \right\}$ span a submodule isomorphic to $W_z^{res}(n)$. The
quotient is spanned by $\left\{ t'_0, \ldots, t'_r \right\}$ and is
isomorphic to $W_z^{res}(r)$. It is therefore clear that $T_z(n)$ has a Weyl
filtration. Note that for $0 \leq n \leq \ell -1$, $T_z(n) = W_z^{res}(n) = V_{z}^{res}(n)$.

Given this definition, it is easy to compute the quantum dimension of $T_z(n)$: 

\begin{equation}
    \dim_q(T_z(n)) = \begin{cases} [n+1]_z &\text{ for $0 \leq n \leq \ell-1$} \\
                                   [n+1]_z + [2\ell-n-1]_z = 0 &\text{ for $\ell \leq n < 2\ell - 2$}
                     \end{cases}
\end{equation}

In fact, \cite{Andersen1992} shows that 
\begin{prop}
$\dim_q(T_z(n)) \neq 0$ if and only if $n < \ell - 1$
\end{prop}

which gives us $\dim_q(T_z(n))$ for all $n$.

A useful corollary of the above proposition is the following:

\begin{corollary}
\label{theorem:tensortilting}
    For any tilting modules $T_1, T_2$, there is a tilting module $Z$ such that 

    \begin{equation}
            T_1 \otimes T_2 \simeq \left(\bigoplus_{k=0}^{\ell - 2} V_z^{res}(k)^{\otimes m_k}\right) \oplus Z
    \end{equation}
    where $m_k \in \mathbb{Z}$, and $\dim_q(Z) = 0$
\end{corollary}
\begin{proof}
\begin{equation}
    T_1 \otimes T_2 \simeq \bigoplus_{k=0}^{\infty} T_z(k)^{\otimes n_k} =
    \bigoplus_{k=0}^{\ell-2} V_z^{res}(k)^{\otimes n_k} \oplus
    \bigoplus_{k=\ell-1}^{\infty} T_z(k)^{\otimes n_k}
\end{equation}

Take $Z = \displaystyle\bigoplus_{k=\ell-1}^{\infty} T_z(k)^{\otimes n_k}$.
\end{proof}

We can now give a decomposition of $V_z^{res}(n) \otimes V_z^{res}(m)$ into
indecomposable modules for $0 \leq n,m \leq \ell-1$.  This tensor product will
not decompose as a direct sum of irreducible modules in general as with the
irreducible representations of $\sll(2)$. However, it follows from the above
proposition that it does decompose as a direct sum of irreducible modules and
tilting modules $T$ with $\dim_q(T) = 0$.

\begin{prop}
\label{theorem:decomposition}
Suppose $0 \leq m,n \leq \ell - 1$. Then

\begin{equation}
V_z^{res}(n) \otimes V_{z}^{res}(m) \simeq \bigoplus_{i=|n-m| \atop i + n + m \text{ even}}^{n+m} V_z^{res}(i) 
\end{equation}

if $n+m \leq \ell - 2$, and 

\begin{equation}
V_z^{res}(n) \otimes V_{z}^{res}(m) \simeq \bigoplus_{i=|n-m| \atop i + n + m \text{ even}}^{2\ell - 4 - n - m} V_z^{res}(i) 
                                    \oplus \bigoplus_{i = \ell - 1 \atop i + n + m \text{ even}} ^{n + m} T_z(i)
\end{equation}

for $\ell - 1 \leq n + m < 2\ell - 2$
\end{prop}


\section{Construction of the MTC}
\label{MTC-construction}


We will now construct a new tensor product $\bar{\otimes}$ by ``discarding''
those indecomposable tilting modules $T$ for which $\dim_q(T) = 0$.

%todo{use better notation than \cite{CP} here for $\overline{\tilt}$}
Define 2 full subcategories of $\tilt$: $\overline{\tilt}$ consisting of the
irreducible tilting modules $\{T_z(0), \ldots, T_z(\ell - 2)\}$ and $\tilt'$
consisting of the tilting modules with quantum dimension zero. 

Then $\tilt= \tilt' \oplus \overline{\tilt}$. %todo{why?}


Define a `truncated' tensor product on $\overline{tilt}$ as follows:

if $T_1 \otimes T_2 \simeq \left(\bigoplus_{k=0}^{\ell - 2} V_z^{res}(k)^{\otimes m_k}\right) \oplus Z$ as in \ref{theorem:tensortilting}, define 

\begin{equation}
T_1 \overline{\otimes} T_2 =  \left(\bigoplus_{k=0}^{\ell - 2} V_z^{res}(k)^{\otimes m_k}\right) 
\end{equation}
%todo{of course, it's not obvious yet that this is a tensor product}

\todo{definition of $\overline{\otimes}$ bogus. Fix up.}
The category $\overline{\tilt}$ with the tensor product $\overline{\otimes}$ is
a braided monoidal category. Call this category $\mathcal{C}^{\text{int}}$.
%todo{some notation cleanup.}

The category $\mathcal{C}^\text{int}$ has the following properties:
\begin{enumerate}
    \item  $\mathcal{C}^\text{int}$ is a ribbon category
    \item Any object $T$ in $\mathcal{C}^\text{int}$ is isomorphic to a direct sum of Weyl modules.
    \item $\mathcal{C}^\text{int}$ is a semisimple abelian category. 
    \item $\dim_{\mathcal{C}^\text{int}} T > 0$ for every $T \not\simeq 0$
\end{enumerate}

$\mathcal{C}^\text{int}$ is in fact a modular tensor category. A proof of this
can be found in \cite{Kirillov}. \todo{do MTC proof here.}
 
\section{Fusion rules}

We have from Prop \ref{theorem:decomposition} that the fusion rules for
$\mathcal{C}^\text{int}$ are given by 

\begin{equation}
    V_z^{res}(m) \otimes V_z^{res}(n) \simeq \sum_i N_{mn}^i V_i
\end{equation}

where 

\begin{equation}
    N_{mn}^i = \begin{cases} 1 \text{ for } |m-n| \leq i \leq m+n, i \leq 2k - (m+n), i + m + n \in 2 \mathbf{Z} \\
                             0 \text{ else } 
               \end{cases}
\end{equation}

% Bakalov & Kirillov


